function ShtmlToElement(e){var t=document.createElement("template");return e=e.trim(),t.innerHTML=e,t.content.children}function Sreplace(e,t){if(e.outerHTML)e.outerHTML=t;else{var n=document.createElement("div");n.innerHTML="<!-- S-html replace -->",(ObjParent=e.parentNode).replaceChild(n,e),ObjParent.innerHTML=ObjParent.innerHTML.replace("<div><!-- S-html replace --></div>",t)}}window.onload=function(){document.head.innerHTML+="<style>s-html{display:none ! important}</style>";let e=document.getElementsByTagName("s-html");if(e.length>1&&console.warn("Only the first s-html element will be read"),e.length<1){console.warn("S html was added but not used");return}(e=e[0].innerHTML.split("\n")).forEach(t=>{e[e.indexOf(t)]=t.split("").filter(e=>" "!=e).join("").replaceAll('"'," ")});let t={};(e=e.filter(e=>""==!e)).forEach(e=>{let n=e.split(" ");switch(n[0]){case"import":if("from"!=n[2])throw Error("import should be followed by name and then a from");t[n[1]]=n[3];break;case"inject":if("with"!=n[2])throw Error("inject should be followed by name and then a with");if(t[n[3]])Array.from(document.getElementsByTagName(n[1])).forEach(e=>{fetch(t[n[3]]).then(async l=>{let r=ShtmlToElement(await l.text()),a=0;if(Array.from(r).forEach(t=>{t.attributes[0].nodeValue==n[3]&&(a+=1,Sreplace(e,t.innerHTML))}),0==a)throw Error(`${n[3]} not defined in ${t[n[3]]}`)})});else throw Error(n[3]+" is not defined in inject");break;case"":break;default:throw Error("Unknown action "+n[0])}})};